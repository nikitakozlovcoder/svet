'use strict';var typedBefore=!1;(function(){function a(){if(b)return d.style.height=0,b=!1,console.log(g),g.classList.remove('black'),void c.classList.remove('cross');var j=h.offsetHeight;g.classList.add('black'),c.classList.add('cross'),d.style.height=j+10+'px',b=!0}var b=!1,c=document.querySelector('.toggle_nav'),d=document.querySelector('.links'),f=document.querySelectorAll('.link'),g=document.querySelector('.nav'),h=document.querySelector('.links_wrap');c.addEventListener('click',a),f.forEach(function(j){j.addEventListener('click',a)}),window.addEventListener('scroll',function(){0<window.pageYOffset?g.classList.add('scrolled'):g.classList.remove('scrolled')}),0<window.pageYOffset&&g.classList.add('scrolled')})(),function(){function a(f,g){g.classList.contains('accordeon_active')||(c.forEach(function(h){return h.style.height='0'}),c[f].style.height=d[f].offsetHeight+'px',b.forEach(function(h){return h.classList.remove('accordeon_active')}),g.classList.add('accordeon_active'))}var b=document.querySelectorAll('.accordeon_item'),c=document.querySelectorAll('.accordeon_text'),d=document.querySelectorAll('.accordeon_wrap');b.forEach(function(f,g){return f.addEventListener('click',function(){f.click=a(g,f)})})}();function getOffset(a){var b=0;do isNaN(a.offsetTop)||(b+=a.offsetTop);while(a=a.offsetParent);return b}function scrollTo(a,b){var d=a-window.pageYOffset,g=setInterval(function(){if(0<d){if(window.pageYOffset>=a||window.pageYOffset+document.documentElement.clientHeight===document.body.scrollHeight)return void clearInterval(g);}else if(window.pageYOffset<=a||0===window.pageYOffset)return void clearInterval(g);window.scroll(0,window.pageYOffset+10*(d/b))},10)}(function(){document.querySelectorAll('.js-link').forEach(function(a){a.addEventListener('click',function(b){b.preventDefault(),console.log(a);var c=a.getAttribute('href');scrollTo(getOffset(document.querySelector(c)),700)})})})(),function(){var a=document.querySelector('.work_expand'),b=document.querySelector('.work_grid_inner'),c=document.querySelector('.work_grid'),d=!1;a.addEventListener('click',function(){d?(c.style.height='300px',a.innerHTML='\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0441\u0435.',a.style.bottom='0px',d=!1):(c.style.height=b.offsetHeight+'px',a.innerHTML='\u0421\u043A\u0440\u044B\u0442\u044C.',a.style.bottom=0,d=!0)})}(),function(){function b(k){d.style.transform='translateX(-'+g.offsetWidth*k+'px)'}function c(k){document.querySelectorAll('.slider-dot').forEach(function(l,m){l.classList.remove('active'),k===m&&l.classList.add('active')})}var d=document.querySelector('.slider_inner'),f=document.querySelector('.slider_show'),g=document.querySelector('.slider_item'),h=0;window.addEventListener('resize',function(){b(h)});var j=setInterval(function(){h++,1<h&&(h=0),console.log('slide!'),b(h),c(h)},3e3);document.querySelectorAll('.slider-dot').forEach(function(k,l){k.onclick=function(){h=l,c(l),b(l),clearInterval(j)}})}(),function(){function a(d){var f=0;do isNaN(d.offsetTop)||(f+=d.offsetTop);while(d=d.offsetParent);return f}var c=document.querySelectorAll('.wow');c.forEach(function(d){return d.style.opacity=0}),console.log(document.documentElement.clientHeight+' window height'),window.addEventListener('scroll',function(){c.forEach(function(d){a(d)<window.pageYOffset+document.documentElement.clientHeight-50&&(d.style.opacity=1,d.classList.contains('anim_type')?type():(d.classList.add('animated'),d.classList.add(d.dataset.anim),d.dataset.delay&&(d.style.animationDelay=d.dataset.delay)))})})}(),function(){var a=document.querySelector('.docs-expand'),b=document.querySelector('.docs-wrap'),c=document.querySelector('.docs_cols'),d=!1;a.addEventListener('click',function(f){f.preventDefault(),c.style.height=d?0:b.clientHeight+'px',d=!d})}(),function(){document.querySelectorAll('.expand-img').forEach(function(a){a.addEventListener('click',function(b){console.log(b.target.src);var c=null;c=void 0===a.dataset.full?window.open(b.target.src,'_blank'):window.open(a.dataset.full,'_blank'),c.focus()})})}();function type(){if(!typedBefore){typedBefore=!0;var a=document.querySelector('.anim_type'),b=document.querySelector('.anim_type_input');a.dataset.type.split('').forEach(function(c,d){setTimeout(function(){return b.innerHTML+=c},150*d)})}}(function(){var a=document.querySelector('.contact_form'),b=a.elements;a.addEventListener('submit',function(c){if(void 0!==fetch){if(c.preventDefault(),''==grecaptcha.getResponse())return;var d=new FormData;d.append('name',b.name.value),d.append('mail',b.mail.value),d.append('tel',b.tel.value),d.append('message',b.message.value),console.log(b.message.value),d.append('g-recaptcha-response',grecaptcha.getResponse()),fetch('/mail',{method:'post',body:d}).then(function(f){return f.text()}).then(function(f){console.log(f)}),b.name.value='',b.mail.value='',b.tel.value='',b.message.value=''}})})();
